\doxysection{/\+Users/johnnyassad/\+Desktop/gruepr/\+LMS/googlehandler.cpp File Reference}
\hypertarget{googlehandler_8cpp}{}\label{googlehandler_8cpp}\index{/Users/johnnyassad/Desktop/gruepr/LMS/googlehandler.cpp@{/Users/johnnyassad/Desktop/gruepr/LMS/googlehandler.cpp}}
{\ttfamily \#include "{}googlehandler.\+h"{}}\newline
{\ttfamily \#include "{}googlesecrets.\+h"{}}\newline
{\ttfamily \#include $<$QDesktop\+Services$>$}\newline
{\ttfamily \#include $<$QJson\+Document$>$}\newline
{\ttfamily \#include $<$QJson\+Object$>$}\newline
{\ttfamily \#include $<$QLine\+Edit$>$}\newline
{\ttfamily \#include $<$QPush\+Button$>$}\newline
{\ttfamily \#include $<$QVBox\+Layout$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
out$<$$<$ Qt\+::endl;url="{}https\+:        \mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}} = http\+Request(Method\+::get, url);    \mbox{\hyperlink{googlehandler_8cpp_aa250c77b5872e3c0bdc6604187cf943e}{if}}(reply\+Body.\+is\+Empty()) \{        return \{\};    \}        \mbox{\hyperlink{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9}{json\+\_\+doc}} = QJson\+Document\+::from\+Json(\mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}});        const QJson\+Array responses = \mbox{\hyperlink{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9}{json\+\_\+doc}}\mbox{[}"{}responses"{}\mbox{]}.to\+Array();    \mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}}(const auto \&response \+: q\+As\+Const(responses)) \{        out $<$$<$ response.\+to\+Object()\mbox{[}"{}last\+Submitted\+Time"{}\mbox{]}.to\+String();                const QJson\+Object answers = response.\+to\+Object()\mbox{[}"{}answers"{}\mbox{]}.to\+Object();        \mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}}(const auto \&question \+: q\+As\+Const(questions)) \{            const QJson\+Array nested\+Answers = answers\mbox{[}question.\+ID\mbox{]}\mbox{[}"{}text\+Answers"{}\mbox{]}\mbox{[}"{}answers"{}\mbox{]}.to\+Array();            QString\+List all\+Values;            all\+Values.\+reserve(nested\+Answers.\+size());            \mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}}(const auto \&nested\+Answer \+: q\+As\+Const(nested\+Answers)) \{                const auto answer\+Object = nested\+Answer.\+to\+Object();                all\+Values $<$$<$ answer\+Object\mbox{[}"{}value"{}\mbox{]}.to\+String();            \}            out $<$$<$ "{},\textbackslash{}"{}"{}$<$$<$ all\+Values.\+join(question.\+type==\mbox{\hyperlink{struct_google_form_question_a6a67725595eee4a4d1ee31edf9b8b5d2a799855594adc0f2bd7302c69d3234b5a}{Google\+Form\+Question\+::\+Type\+::schedule}}? \textquotesingle{};\textquotesingle{} \+:\textquotesingle{},\textquotesingle{})$<$$<$ "{}\textbackslash{}"{}"{};\} out$<$$<$ Qt\+::endl;\} file.\+close();return filepath.\+absolute\+File\+Path();\}void \mbox{\hyperlink{class_google_handler_a0174b68ee635b041b138cb85c349385b}{Google\+Handler\+::post\+To\+Google\+Get\+Single\+Result}}(const QString \&URL, const QByte\+Array \&post\+Data, const QString\+List \&string\+Params, QList$<$ QString\+List \texorpdfstring{$\ast$}{*} $>$ \&string\+Vals, const QString\+List \&string\+In\+Subobject\+Params, QList$<$ QString\+List \texorpdfstring{$\ast$}{*} $>$ \&string\+In\+Subobject\+Vals)\{ OAuth\+Flow-\/$>$ \mbox{\hyperlink{googlehandler_8cpp_a44278ae3a6a7504df3a62db2402da4b2}{set\+Content\+Type}} (QAbstract\+OAuth\+::\+Content\+Type\+::\+Json)
\item 
\mbox{\hyperlink{googlehandler_8cpp_aa250c77b5872e3c0bdc6604187cf943e}{if}} (reply\+Body.\+is\+Empty())
\item 
\mbox{\hyperlink{googlehandler_8cpp_a09de47f72714c48033f5419449801030}{if}} (json\+\_\+doc.\+is\+Array())
\item 
\mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}} (const auto \&value \+:q\+As\+Const(\mbox{\hyperlink{googlehandler_8cpp_a59a7573ffad94e081acd054ab0a95514}{json\+\_\+array}}))
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const auto \mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}} = http\+Request(Method\+::post, URL, post\+Data)
\item 
const QJson\+Document \mbox{\hyperlink{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9}{json\+\_\+doc}} = QJson\+Document\+::from\+Json(\mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}})
\item 
QJson\+Array \mbox{\hyperlink{googlehandler_8cpp_a59a7573ffad94e081acd054ab0a95514}{json\+\_\+array}}
\item 
\mbox{\hyperlink{googlehandler_8cpp_a0544c3fe466e421738dae463968b70ba}{else}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}\index{googlehandler.cpp@{googlehandler.cpp}!for@{for}}
\index{for@{for}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{for()}{for()}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f} 
for (\begin{DoxyParamCaption}\item[{const auto \&value }]{\+:q\+As\+Const}{json\+\_\+array}\end{DoxyParamCaption})}

\Hypertarget{googlehandler_8cpp_a09de47f72714c48033f5419449801030}\index{googlehandler.cpp@{googlehandler.cpp}!if@{if}}
\index{if@{if}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{if()}{if()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_a09de47f72714c48033f5419449801030} 
\mbox{\hyperlink{googlehandler_8cpp_a0544c3fe466e421738dae463968b70ba}{else}} if (\begin{DoxyParamCaption}\item[{json\+\_\+doc.}]{is\+Array}{()}\end{DoxyParamCaption})}

\Hypertarget{googlehandler_8cpp_aa250c77b5872e3c0bdc6604187cf943e}\index{googlehandler.cpp@{googlehandler.cpp}!if@{if}}
\index{if@{if}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{if()}{if()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_aa250c77b5872e3c0bdc6604187cf943e} 
if (\begin{DoxyParamCaption}\item[{reply\+Body.}]{is\+Empty}{()}\end{DoxyParamCaption})}

\Hypertarget{googlehandler_8cpp_a44278ae3a6a7504df3a62db2402da4b2}\index{googlehandler.cpp@{googlehandler.cpp}!setContentType@{setContentType}}
\index{setContentType@{setContentType}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{setContentType()}{setContentType()}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_a44278ae3a6a7504df3a62db2402da4b2} 
out$<$$<$ Qt\+::endl; url="{}https\+:        \mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}} = http\+Request(Method\+::get, url);    \mbox{\hyperlink{googlehandler_8cpp_aa250c77b5872e3c0bdc6604187cf943e}{if}}(reply\+Body.\+is\+Empty()) \{        return \{\};    \}        \mbox{\hyperlink{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9}{json\+\_\+doc}} = QJson\+Document\+::from\+Json(\mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}});        const QJson\+Array responses = \mbox{\hyperlink{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9}{json\+\_\+doc}}\mbox{[}"{}responses"{}\mbox{]}.to\+Array();    \mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}}(const auto \&response \+: q\+As\+Const(responses)) \{        out $<$$<$ response.\+to\+Object()\mbox{[}"{}last\+Submitted\+Time"{}\mbox{]}.to\+String();                const QJson\+Object answers = response.\+to\+Object()\mbox{[}"{}answers"{}\mbox{]}.to\+Object();        \mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}}(const auto \&question \+: q\+As\+Const(questions)) \{            const QJson\+Array nested\+Answers = answers\mbox{[}question.\+ID\mbox{]}\mbox{[}"{}text\+Answers"{}\mbox{]}\mbox{[}"{}answers"{}\mbox{]}.to\+Array();            QString\+List all\+Values;            all\+Values.\+reserve(nested\+Answers.\+size());            \mbox{\hyperlink{googlehandler_8cpp_a2e0cd065577ff2a8182ae5e9a859107f}{for}}(const auto \&nested\+Answer \+: q\+As\+Const(nested\+Answers)) \{                const auto answer\+Object = nested\+Answer.\+to\+Object();                all\+Values $<$$<$ answer\+Object\mbox{[}"{}value"{}\mbox{]}.to\+String();            \}            out $<$$<$ "{},\textbackslash{}"{}"{}$<$$<$ all\+Values.\+join(question.\+type==\mbox{\hyperlink{struct_google_form_question_a6a67725595eee4a4d1ee31edf9b8b5d2a799855594adc0f2bd7302c69d3234b5a}{Google\+Form\+Question\+::\+Type\+::schedule}}? \textquotesingle{};\textquotesingle{} \+:\textquotesingle{},\textquotesingle{})$<$$<$ "{}\textbackslash{}"{}"{}; \} out$<$$<$ Qt\+::endl; \} file.\+close(); return filepath.\+absolute\+File\+Path();\}void \mbox{\hyperlink{class_google_handler_a0174b68ee635b041b138cb85c349385b}{Google\+Handler\+::post\+To\+Google\+Get\+Single\+Result}}(const QString \&URL, const QByte\+Array \&post\+Data, const QString\+List \&string\+Params, QList$<$ QString\+List \texorpdfstring{$\ast$}{*} $>$ \&string\+Vals, const QString\+List \&string\+In\+Subobject\+Params, QList$<$ QString\+List \texorpdfstring{$\ast$}{*} $>$ \&string\+In\+Subobject\+Vals)\{ OAuth\+Flow-\/$>$ set\+Content\+Type (\begin{DoxyParamCaption}\item[{QAbstract\+OAuth\+::\+Content\+Type\+::\+Json}]{}{}\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\Hypertarget{googlehandler_8cpp_a0544c3fe466e421738dae463968b70ba}\index{googlehandler.cpp@{googlehandler.cpp}!else@{else}}
\index{else@{else}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{else}{else}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_a0544c3fe466e421738dae463968b70ba} 
else}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}

\end{DoxyCode}
\Hypertarget{googlehandler_8cpp_a59a7573ffad94e081acd054ab0a95514}\index{googlehandler.cpp@{googlehandler.cpp}!json\_array@{json\_array}}
\index{json\_array@{json\_array}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{json\_array}{json\_array}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_a59a7573ffad94e081acd054ab0a95514} 
QJson\+Array json\+\_\+array}

\Hypertarget{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9}\index{googlehandler.cpp@{googlehandler.cpp}!json\_doc@{json\_doc}}
\index{json\_doc@{json\_doc}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{json\_doc}{json\_doc}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_a2684da82f733a26095cd4bca136e6dc9} 
const QJson\+Document json\+\_\+doc = QJson\+Document\+::from\+Json(\mbox{\hyperlink{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}{reply\+Body}})}

\Hypertarget{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f}\index{googlehandler.cpp@{googlehandler.cpp}!replyBody@{replyBody}}
\index{replyBody@{replyBody}!googlehandler.cpp@{googlehandler.cpp}}
\doxysubsubsection{\texorpdfstring{replyBody}{replyBody}}
{\footnotesize\ttfamily \label{googlehandler_8cpp_ae4ed25ad01c0737549ecfbbfa296239f} 
const auto reply\+Body = http\+Request(Method\+::post, URL, post\+Data)}

